(this["webpackJsonpfavorite-films"]=this["webpackJsonpfavorite-films"]||[]).push([[0],{13:function(e,t,a){},14:function(e,t,a){"use strict";a.r(t);var i=a(0),n=a.n(i),o=a(6),s=a.n(o),l=a(7),r=a(1),c=a(2),m=a(3),v=a(4),u=(a(13),function(e){Object(v.a)(a,e);var t=Object(m.a)(a);function a(e){var i;return Object(r.a)(this,a),(i=t.call(this,e)).showHideOverview=function(){i.setState({showOverview:!i.state.showOverview})},i.addLike=function(){i.setState({like:!i.state.like})},i.deleteMovieOnClick=function(){i.props.deleteMovie(i.state.movie)},i.addMovieWillWatch=function(){i.props.addMovieWillWatch(i.state.movie),i.setState({willSee:!0})},i.removeMovieWillWatch=function(){i.props.deleteMovieWillWatch(i.state.movie),i.setState({willSee:!1})},i.state={showOverview:!1,like:!1,movie:i.props.movie,willSee:!1},i}return Object(c.a)(a,[{key:"render",value:function(){var e=this.props.movie,t=e.title,a=e.vote_average,i=e.overview,o=e.backdrop_path,s=e.poster_path;return n.a.createElement("div",{className:"card"},n.a.createElement("img",{className:"card-img-top",src:"http://image.tmdb.org/t/p/w500".concat(o||s),alt:""}),n.a.createElement("div",{className:"card-body"},n.a.createElement("div",{className:"card-title"},t),n.a.createElement("div",{className:"d-flex justify-content-between align-items-center"},n.a.createElement("p",{className:"mb-0"},"Rating: ",a),this.state.showOverview?n.a.createElement("p",null,i):null,this.state.willSee?n.a.createElement("button",{type:"button",className:"btn btn-success",onClick:this.removeMovieWillWatch},"Remove from list"):n.a.createElement("button",{type:"button",className:"btn btn-secondary",onClick:this.addMovieWillWatch},"Will watch")),n.a.createElement("button",{type:"button",onClick:this.addLike,className:this.state.like?"btn-like":null},"Like"),n.a.createElement("button",{type:"button",onClick:this.showHideOverview}," ",this.state.showOverview?"Hide":"Show"),n.a.createElement("button",{type:"button",onClick:this.deleteMovieOnClick},"Delete movie")))}}]),a}(n.a.Component)),d="https://api.themoviedb.org/3",p="3f4ca4f3a9750da53450646ced312397",h=function(e){var t=e.filter,a=e.filterOnClick,i=e.setClassLink;e.sortMovies;return n.a.createElement("div",{className:"nav-item"},n.a.createElement("button",{onClick:a(t.filterAPI),className:i(t.filterAPI)},t.nameFilter))},f=function(e){Object(v.a)(a,e);var t=Object(m.a)(a);function a(){return Object(r.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"shouldComponentUpdate",value:function(e,t,a){return e.sort_by!==this.props.sort_by}},{key:"render",value:function(){var e=this,t=["Popular","Revenue","Vote average","Release date"],a=["popularity.desc","revenue.desc","vote_average.desc","release_date.desc"].map((function(e,a){return{filterAPI:e,nameFilter:t[a]}})),i=function(t){return function(a){e.props.sortMovies(t)}},o=function(t){return"nav-link ".concat(e.props.sort_by===t?"active":"")};return n.a.createElement("div",{className:"tabs nav nav-pills"},n.a.createElement("li",{className:"nav-item"},n.a.createElement("div",{className:"list-group list-group-horizontal-md"},a.map((function(e){return n.a.createElement(h,{filter:e,filterOnClick:i,setClassLink:o})})))))}}]),a}(n.a.Component),b=function(e){return n.a.createElement("div",{className:"row-cols-md-1"},n.a.createElement("ul",{className:"list-group list-group-flush"},n.a.createElement("li",{className:"card-header"},"Title: ",e.movie.title," "),n.a.createElement("img",{className:"card-img-top",src:"http://image.tmdb.org/t/p/w500".concat(e.movie.backdrop_path||e.movie.poster_path),alt:""}),n.a.createElement("li",{className:"list-group-item"},"Rating: ",e.movie.vote_average)))},g=function(e){Object(v.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(r.a)(this,a);for(var i=arguments.length,n=new Array(i),o=0;o<i;o++)n[o]=arguments[o];return(e=t.call.apply(t,[this].concat(n))).state={movies:[],movieWillWatch:[],sort_by:"popularity.desc",pages:1},e.getMovies=function(){fetch("".concat(d,"/discover/movie?page=").concat(e.state.pages,"&api_key=").concat(p,"&sort_by=").concat(e.state.sort_by)).then((function(e){return e.json()})).then((function(t){e.setState({movies:t.results})}))},e.deleteMovie=function(t){var a=e.state.movies.filter((function(e){return e.id!==t.id}));e.setState({movies:a})},e.addMovieWillWatch=function(t){var a=[].concat(Object(l.a)(e.state.movieWillWatch),[t]);e.setState({movieWillWatch:a})},e.deleteMovieWillWatch=function(t){var a=e.state.movieWillWatch.filter((function(e){return e.id!==t.id}));e.setState({movieWillWatch:a})},e.sortMovies=function(t){e.setState({sort_by:t})},e.nextPage=function(){e.setState({pages:e.state.pages+1})},e.previousPage=function(){e.state.pages>1?e.setState({pages:e.state.pages-1}):alert("This is first page")},e}return Object(c.a)(a,[{key:"componentDidMount",value:function(){this.getMovies()}},{key:"componentDidUpdate",value:function(e,t){if(t.sort_by!==this.state.sort_by||t.pages!==this.state.pages)return this.getMovies()}},{key:"render",value:function(){var e=this;return console.log(this.state.sort_by),n.a.createElement("div",{className:"container-fluid"},n.a.createElement("h1",{className:"p-3 mb-2 bg-warning text-dark"},"List of movies"),n.a.createElement("div",{className:"row m-3"},n.a.createElement("div",{className:"col-9"},n.a.createElement("div",{className:"row mb-4"},n.a.createElement("div",{className:"col-12"},n.a.createElement("h2",null,"Filters"),n.a.createElement(f,{sort_by:this.state.sort_by,sortMovies:this.sortMovies}))),n.a.createElement("div",{className:"row m-5 ml-auto"},n.a.createElement("div",{className:"list-group"},n.a.createElement("h2",null,"Pages"),n.a.createElement("div",{className:"list-group list-group-horizontal "},n.a.createElement("button",{onClick:function(){e.previousPage()}},"Previous page"),n.a.createElement("div",null,this.state.pages-1),n.a.createElement("h3",null,this.state.pages),n.a.createElement("div",null,this.state.pages+1),n.a.createElement("button",{onClick:function(){e.nextPage()}},"Next page")))),n.a.createElement("div",{className:"row"},this.state.movies.map((function(t){return n.a.createElement("div",{className:"col-6 mb-4"},n.a.createElement(u,{movie:t,key:t.id,deleteMovie:e.deleteMovie,addMovieWillWatch:e.addMovieWillWatch,deleteMovieWillWatch:e.deleteMovieWillWatch}))})))),n.a.createElement("div",{className:"col-3"},n.a.createElement("div",{className:"row"},this.state.movieWillWatch.map((function(e){return n.a.createElement("div",{className:"col-6 mb-4"},n.a.createElement(b,{movie:e}))}))))))}}]),a}(n.a.Component);var E=function(){return n.a.createElement("div",null,n.a.createElement(g,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(n.a.createElement(n.a.StrictMode,null,n.a.createElement(E,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},8:function(e,t,a){e.exports=a(14)}},[[8,1,2]]]);
//# sourceMappingURL=main.65dafbdf.chunk.js.map